# Data Flow, Componentes e Regras de Associa√ß√£o
*Lab de Componentiza√ß√£o e Re√∫so de Software 31/07/2021*

# Zombie Meals

Estude o workflow exemplo constru√≠do em Orange no arquivo `zombie-meals.ows` que carrega o arquivo `zombie-meals-recommend.csv` (pode ser necess√°rio reconfigurar o caminho de entrada do arquivo no Orange). Abaixo a imagem do workflow:

![Meal Recommendation](images/orange-zombie-meals-prediction-comments.png)

O Zombie Meals √© um arquivo que mostra uma lista de comidas prontas vendidas em supermercados para zumbis, sua composi√ß√£o e a m√©dia da nota dada pelos zumbis para a refei√ß√£o (rating).

Esquema da tabela:
* name: name of the meal
* mfr: Manufacturer
* type: cold or hot
* calories: calories per serving
* protein: grams of protein
* fat: grams of fat
* sodium: milligrams of sodium
* fiber: grams of dietary fiber
* carbo: grams of complex carbohydrates
* sugars: grams of sugars
* potass: milligrams of potassium
* vitamins: vitamins and minerals - 0, 25, or 100, indicating the typical percentage of FDA recommended
* shelf: display shelf (1, 2, or 3, counting from the floor)
* weight: weight in ounces of one serving
* cuts: number of pieces in one serving
* rating: a rating of the meals

O workflow usa o recurso de `Feature Constructor` para criar uma coluna `recommended` que indica se o produto ser√° recomendado (`Y`es ou `N`o). Produtos s√£o recomendados se o seu rating for maior ou igual a 50. Foi usado o seguinte tipo de express√£o no `Feature Constructor`:

~~~
"y" if rating >= 50 else "n"
~~~

Isso pode ser interpretado da seguinte maneira:
~~~
Se rating >= 50:
  assume ‚Äúy‚Äù
Caso contr√°rio
  assume ‚Äún‚Äù
~~~

Voc√™ pode montar a sua pr√≥pria express√£o substituindo os valores (‚Äúy‚Äù e ‚Äún‚Äù) e a express√£o (`rating` >= 50).

# Tarefa 1 - Workflow para Recomenda√ß√£o de Zombie Meals

Fa√ßa modifica√ß√µes no workflow com o intuito de explorar diferentes possibilidades de customiza√ß√£o de componentes e de substitui√ß√£o de componentes. As seguintes customiza√ß√µes s√£o recomendadas:

* modificar o m√©todo de predi√ß√£o - atualmente √© o Support Vector Machine (SVN)
  * experimente outros m√©todos dispon√≠veis na aba Model, como Tree e Logistic Regression
  * analise o desempenho a partir dos valores de F1, Precision e Recall (valores maiores s√£o melhores)
* mude o crit√©rio de recomenda√ß√£o mudando a express√£o
* modifique as features que voc√™ vai analisar para recomenda√ß√£o (quanto menos melhor)

Esta tarefa ser√° submetida na forma de um arquivo Orange mais uma captura da imagem (png) do workflow, conforme template: [/templates/2021/lab01/](../../../templates/2021/lab01/).

# Tarefa 2 - Projeto de Composi√ß√£o para Venda e Recomenda√ß√£o

Considere um cen√°rio em que o workflow que voc√™ construiu na tarefa anterior est√° dentro de um componente, como ilustra a figura a seguir:

![Workflow dentro Componente](images/workflow-inside-component.png)

Considere o tema de Marketplace da disciplina. Elabore um diagrama compondo componentes que represente um fluxo a ser executado dentro deste marketplace. O fluxo representa o processo de aquisi√ß√£o de uma refei√ß√£o virtualmente, que vai desde a escolha da refei√ß√£o, a recomenda√ß√£o de outras refei√ß√µes a partir de informa√ß√µes como:
* refei√ß√µes que o cliente j√° comprou e a nota (rating) que ele atribuiu;
* refei√ß√µes que todos os clientes compraram e notas atribu√≠das por eles.

Utilize o template dispon√≠vel em [Lab01 - Diagramas de Refer√™ncia](https://docs.google.com/presentation/d/1IhAWAsFgr6BzGNJaxioeBQJi8DySzrPVL1D8iMw7l9I/edit?usp=sharing) para elaborar o modelo.

Descreva textualmente como o processo se desenvolve entre os componentes e o que ser√° transmitido de um componente para outro em cada interface.

Submeta a imagem (png) do seu modelo e o texto conforme template: [/templates/2021/lab01/](../../../templates/2021/lab01/).



**Descri√ß√£o passo a passo do processo** ü§ò

A compra de refei√ß√µes no marketplace compreende duas op√ß√µes: o usu√°rio pode realizar a busca livre de uma refei√ß√£o ou  escolher uma das op√ß√µes oferecidas pelo marketplace atrav√©s 
da funcionalidade de sugest√£o de refei√ß√µes.<br /><br />
Independente da forma com a qual o processo de busca/escolha de um refei√ß√£o foi iniciado, ele sempre ir√° terminar com a exibi√ß√£o da refei√ß√£o escolhida pelo usu√°rio em tela.<br /><br />
Sendo assim, o processo supracitado pode ser explicado seguindo o passo a passo abaixo:

1. O processo inicia-se com o usu√°rio acessando o marketplace para comprar uma refei√ß√£o. O componente "Refei√ß√£o Set" cont√©m todas as 
  refei√ß√µes dispon√≠veis no marketplace para compra;
2. O Marketplace ent√£o exibe um campo para busca, no qual o usu√°rio pode entrar com o nome da refei√ß√£o e busc√°-la;<br />
    2.1 O componente "busca refei√ß√£o" recebe o nome da refei√ß√£o informada pelo usu√°rio atrav√©s da interface "solicita refei√ß√£o" com o 
        componente "refei√ß√£o set";<br />
    2.2 Caso a refei√ß√£o exista na lista, "busca refei√ß√£o" envia para o componente "refei√ß√£o display" a refei√ß√£o atrav√©s da interface "exibe refei√ß√£o";<br />
    2.3 Por fim, o componente "refei√ß√£o display" recebe e exibe a refei√ß√£o para o usu√°rio que, por sua vez, pode decidir entre compr√°-la ou n√£o.<br />
3. O Marketplace tamb√©m exibe automaticamente uma lista de refei√ß√µes sugeridas para o usu√°rio (essa funcionalidade √© uma alternativa
   ao campo de busca de refei√ß√µes) e ela se baseia nos par√¢metros listados abaixo para predizer as refei√ß√µes:
      * refei√ß√µes que o cliente j√° comprou e a nota (rating) que ele atribuiu;
      * refei√ß√µes que todos os clientes compraram e notas atribu√≠das por eles.<br />
   
   3.1 Para exibir automaticamente sugest√µes, o componente "recomenda refei√ß√£o" recebe de "refei√ß√£o set" uma lista de refei√ß√µes por meio da interface "solicita refei√ß√£o
       recomendada";<br />
   3.2 "Recomenda refei√ß√£o" aplica uma intelig√™ncia na lista de refei√ß√µes recebidas e envia essa lista de refei√ß√µes sugeridas para o componente
    "refei√ß√µes display";<br />
    3.3 Por fim, o componente "refei√ß√£o display" recebe de "recomenda refei√ß√£o" uma lista de refei√ß√µes sugeridas para o usu√°rio e as exibe em tela.

